UPDATE:

Most of what I say below is still valid, except that I am going 
to change my policy on my fix-wip work. I am trying to wrap up my work 
on WoaS before starting an "enhanced" version with some capabilities I 
need that will not be backwardly compatible with the normal WoaS. I have 
spent a huge amount of time on this and can't seem to quite get to the 
end of it ... right now I have some uncommitted work to fix "debug 
requires reload", maintain a perfect editing window, allow a single 
file WoaS to create a new index.wsif, and have done a lot of work on 
fixing the current layout (though I can't properly finish this as I am 
wasting time: my enhanced version uses a completely different layout 
method). I want to share this work. 

Because I was new to SVN (and new to git, which I am using locally) when 
I set things up, my repository structure is poor for managing both SVN 
and git -- and not too good for git either. I simply can't take the time 
to update fix with fix-wip, nor the official code with important fixes. 
My changes are also not easy to follow because I post a bunch of git 
commits to a single SVN commit. Perhaps this has made it hard for Daniele 
to consider using the code. 

Anyway, this is what I will do going forward: 

*	the code in the fix-wip directory continues to be work-in-progress; 
	use at your own risk. I try to commit working code, but I do make 
	mistakes (often =)

*	I am adding a woas-fix-wip.html file (and a compressed version) to the 
	main directory. It is not necessarily based on the latest code in 
	fix-wip, but is the last version I built and tested (somewhat). You can 
	tell which SVN version it is based on by looking at the debug console 
	(assuming I remembered to update my local SVN). Again, use this with 
	caution and test first, but it should be working fine -- certainly much 
	better than the current WoaS version. I will try to remember to write a 
	page (or update WoaS History) that lists the differences between my
	version and the current official code.

*	I want to add a woas-pvhl.html (and compressed version) to the files 
	section of the SourceForge site. It will simply be a woas-fix-wip.html 
	file that I believe is stable. I want to discuss this with Daniele 
	first. The current WoaS.0.12.0 corrupts files in some instances, as
	discussed below.

*	I am abandoning further work on fix. I do not have the time to update 
	it. It is very important to me to finish off my current work (including 
	updating content pages and help pages) and move on to my enhanced 
	version. I will do what I can, but at some point I just have to stop.

*	If anyone is really interested in following the changes I am willing to 
	make my local git repo available. This is the best I can do for anyone 
	wanting to update the official code with my work. I tried to use git-svn 
	when I started but it refused to import the SVN (can't remember why, but 
	there were various error messages about a corrupt repository). 

*	I would like it understood going forward that I want to share my work 
	in case it is useful, but I cannot support it. I will support my new 
	version, and I try to fix errors when I hear of them, but I need to move 
	on. I may create my "enhanced" version in a new project or on github. 

Paul - pvhl

------

PLEASE READ STATEMENT ABOVE. THE 'FIX' DIRECTORY IS NOW ABANDONED; USE FIX-WIP
INSTEAD As EXPLAINED.
 
The files in this directory and in the non '-wip' directories are
intended to be working and stable. I have a few more fixes to make yet
and intend to only upload fixed, working copies of these single-file
WoaS versions.

The official WoaS 0.12.0 is broken when using any browser that requires 
java (including webkit-based browsers like Safari). My fixed version 
fixes this and a number of other issues (the log.txt file in the fix 
folder lists the major changes). I cannot change the officially released 
single-file WoaS versions (nor do I want to) so I want to let people 
know about and use my fixed version. Usually the project leader, 
Daniele, will update the official version with my fixes at some point. 
Until then my fixed version is available instead. 

Files:

All files are for local use on your computer. Files in fix-wip are not
intended for general use.
	
* woas-fix.html - latest single-file woas generated from the code in ./fix
* woas-fix.min.html - as above, but with code minimized using jsmin
* TiddlySaver.jar - an updated, signed version from the TiddlyWiki project

Webkit-based browsers need the TiddlySaver.jar file to write files and 
to read external files; if you only use the single-file WoaS versions I 
have here (e.g. woas-fix.html) to read existing pages you will not need 
the jar file. To edit pages, or to use the wsif-based version, you will 
need the TiddlySaver.jar file (and possibly the java.policy file) so 
that WoaS can read and write files. If the java.policy file is needed 
(it isn't if you are able to save changes) it should be edited to suit 
your environment and placed in your home directory. If your home 
directory already has a java.policy file the new policy can simply be 
added to the existing ones. The signed jar file should fix issues where
TiddlyWiki would work on a particular Java setup, but WoaS would not.

The php files are used to build the single-file woas and use information
from svn if available. They are taken and/or modified from the 
'trunk/tools' directory.

* mk - creates the single-file version for the directory passed in. So
       'mk fix' makes woas-fix[.min].html files; so does 'mk f'. See
	   the file for other shortcuts.
* libwsif.php - the standard tools file copied here for simplicity.

Directories:

* fix/         - latest code for testing and use
* fix-wip/     - work-in-progress; may not be usable; my current commit
* enhance/     - latest code for testing and use
* enhance-wip/ - work-in-progress; may not be usable; my current commit 

Only the fix* directories exist currently. The difference between fix 
and enhance versions is that I expect most of the changes in fix to be 
used by the woas project whereas work in enhance may or may not be. 
Enhance is nevertheless basically compatible with the fix version; it 
will not contain changes that break the basic design of WoaS, though 
changes in the way it handles syntax, etc., may cause some content to 
look or behave differently. 

The -wip directories are present only for the benefit of those who may 
want/need to see my current work. I have to do a lot of work off-line 
and usually use git for version control, so this is likely only up to 
date if I am working with someone or have just made a back-up of my 
local work. It may or may not be working at any given moment and
usually should not be used.

Notes:

See the file log.txt in the directories for information on changes.
	
I am using this repository to maintain fixes I have made to the WoaS 
code and also any enhancements/changes I have made to how WoaS works. 
The fixes are in the subdirectory "fix" and enhancements are in 
"enhance". The changes in "fix" will likely be absorbed into the 
official trunk code, the changes in "enhance" will likely not become 
official as they probably change some basic aspect of WoaS operation. 
This could be a change in how parsing works or some backwards-
incompatible change. 

Right now I am working on fixing some important, basic bugs in WoaS 
operation. I do not have time or inclination to fix all the current 
bugs, but I am fixing the ones that affect normal operation the most and 
can be fixed without major changes to WoaS' current design (thus, some 
of my fixes are hacks to fix a problem in the simplest way). 

My current plan is to then finish work on defining what I would like to 
see in a tool of this sort and start work on building it. This new tool 
fits in with the greater mission I am working on and will soon be 
launching. I am likely to pursue this further work in a separate project 
as my needs are perhaps not quite aligned with those of WoaS. I have 
struggled with this for a while as I like WoaS and haven't wanted to 
fork the project. My new project will likely reuse code from WoaS, but 
will have a different basic design and will not use the wsif format 
natively. It is my hope that these two projects might someday reunite in 
some way, as much of their basic purpose and philosophy will remain the 
same. 

I will also make updated single-file versions of the stable branches 
available in this directory. The file will be the latest, tested 
version, and will overwrite the previous one; if you need a specific 
version you can retrieve it from SVN. I will also tag the main code if 
it seems necessary. 

I hope this work will be of use to you. Due to limited time available I 
will not be able to provide support on this, but let me know if there 
are issues (especially specific to my versions) and I will do my best to 
fix them.

Discussion:

Though I have premission to work directly on the WoaS trunk code I have 
found that doing so makes much more work for me. It has been difficult 
to keep track of which of my changes were kept and which reversed, which 
trunk changes I wanted in my own version, etc. It just seems much 
simpler for everyone involved if I have a version of the official 
(single- file) release, and the files it was based on, to which I have 
added any fixes I have made, received from others, or taken from trunk.
Then the official code can be updated from my fix branch as and when
desired by those maintaining it.